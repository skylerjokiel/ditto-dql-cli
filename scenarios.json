{
    "select_all": [
        {
            "query": "SELECT * from movies",
            "expectedCount": 23539
        }
    ],
    "count_all": [
        "SELECT count(*) from movies",
        "EXPLAIN SELECT count(*) from movies"
    ],
    "index_basic": [
        "DROP INDEX IF EXISTS movies_rated on movies",
        {
            "query": "SELECT * FROM movies WHERE rated = 'APPROVED'",
            "expectedCount": 711,
            "expectedIndex": "full_scan"
        },
        "CREATE INDEX movies_rated on movies (rated)",
        {
            "query": "SELECT * FROM movies WHERE rated = 'APPROVED'",
            "expectedCount": 711,
            "expectedIndex": "movies_rated"
        }
    ],
    "index_on_id_subfield": [
        "DROP INDEX IF EXISTS movies_year on movies",
        "SELECT * FROM movies WHERE _id.year = '2001'",
        "EXPLAIN SELECT * FROM movies WHERE _id.year = '2001'",
        "CREATE INDEX movies_year on movies (_id.year)",
        "SELECT * FROM movies WHERE _id.year = '2001'",
        "EXPLAIN SELECT * FROM movies WHERE _id.year = '2001'",
        "SELECT * FROM movies USE INDEX '_id.year' WHERE _id.year = '2001'",
        "EXPLAIN SELECT * FROM movies USE INDEX '_id.year' WHERE _id.year = '2001'",
        "SELECT * FROM movies USE DIRECTIVES '{\"#index\":null}' WHERE _id.year = '2001'"
    ],
    "index_on_subfield": [
        "DROP INDEX IF EXISTS award_wins on movies",
        "SELECT * FROM movies WHERE awards.wins = 1",
        "EXPLAIN SELECT * FROM movies WHERE awards.wins = 1",
        "CREATE INDEX award_wins on movies (awards.wins)",
        "SELECT * FROM movies WHERE awards.wins = 1",
        "EXPLAIN SELECT * FROM movies WHERE awards.wins = 1"
    ],
    "index_fields_only_with_or_basic": [
        "DROP INDEX IF EXISTS movies_rated on movies",
        "SELECT * FROM movies WHERE rated = 'APPROVED'",
        "SELECT * FROM movies WHERE awards.wins = 3 OR rated = 'APPROVED'",
        "CREATE INDEX movies_rated on movies (rated)",
        "SELECT * FROM movies WHERE awards.wins = 3 OR rated = 'APPROVED'",
        "SELECT * FROM movies USE DIRECTIVES '{\"#index\":null}' WHERE awards.wins = 3 OR rated = 'APPROVED'"
    ],
    "index_id_and_field_with_or_basic": [
        "DROP INDEX IF EXISTS movies_rated on movies",
        "SELECT * FROM movies WHERE rated = 'APPROVED'",
        "SELECT * FROM movies WHERE _id.year = '2001' OR rated = 'APPROVED'",
        "CREATE INDEX movies_rated on movies (rated)",
        "SELECT * FROM movies WHERE _id.year = '2001' OR rated = 'APPROVED'",
        "SELECT * FROM movies USE DIRECTIVES '{\"#index\":null}' WHERE _id.year = '2001' OR rated = 'APPROVED'"
    ],
    "index_id_and_field_with_or_basic_with_explain": [
        "DROP INDEX IF EXISTS movies_rated on movies",
        "SELECT * FROM movies WHERE rated = 'APPROVED'",
        "SELECT * FROM movies WHERE _id.year = '2001' OR rated = 'APPROVED'",
        "EXPLAIN SELECT * FROM movies WHERE _id.year = '2001' OR rated = 'APPROVED'",
        "CREATE INDEX movies_rated on movies (rated)",
        "SELECT * FROM movies WHERE _id.year = '2001' OR rated = 'APPROVED'",
        "EXPLAIN SELECT * FROM movies WHERE _id.year = '2001' OR rated = 'APPROVED'",
        "SELECT * FROM movies USE DIRECTIVES '{\"#index\":null}' WHERE _id.year = '2001' OR rated = 'APPROVED'"
    ],
    "index_id_and_field_with_or_advanced": [
        "DROP INDEX IF EXISTS movies_rated on movies",
        "SELECT * FROM movies WHERE rated = 'APPROVED'",
        "SELECT * FROM movies WHERE _id.year = '2001' OR rated = 'APPROVED'",
        "SELECT * FROM movies WHERE rated = 'APPROVED' OR _id.year = '2001'",
        "SELECT * FROM movies WHERE _id.year = '2001' AND rated = 'APPROVED'",
        "SELECT * FROM movies USE INDEX 'movies_rated' WHERE _id.year = '2001' OR rated = 'APPROVED'",
        "SELECT * FROM movies WHERE runtime > 80 OR rated = 'APPROVED'",
        "CREATE INDEX movies_rated on movies (rated)",
        "SELECT * FROM movies WHERE rated = 'APPROVED'",
        "SELECT * FROM movies WHERE _id.year = '2001' OR rated = 'APPROVED'",
        "SELECT * FROM movies WHERE rated = 'APPROVED' OR _id.year = '2001'",
        "SELECT * FROM movies WHERE _id.year = '2001' AND rated = 'APPROVED'",
        "SELECT * FROM movies USE INDEX 'movies_rated' WHERE _id.year = '2001' OR rated = 'APPROVED'",
        "SELECT * FROM movies WHERE runtime > 80 OR rated = 'APPROVED'",
        "SELECT * FROM movies USE DIRECTIVES '{\"#index\":null}' WHERE _id.year = '2001' OR rated = 'APPROVED'"
    ],
    "index_string_contains": [
        "DROP INDEX IF EXISTS movies_plot_text on movies",
        {
            "query": "SELECT plot FROM movies WHERE CONTAINS(plot, 'love') LIMIT 10",
            "expectedIndex": "full_scan"
        },
        "CREATE INDEX movies_plot_text on movies (plot)",
        {
            "query": "SELECT plot FROM movies WHERE CONTAINS(plot, 'love') LIMIT 10",
            "expectedIndex": "movies_plot_text"
        }
    ],
    "validation_test": [
        {
            "query": "SELECT * FROM movies WHERE rated = 'PG' LIMIT 5",
            "expectedCount": 5
        },
        {
            "query": "SELECT * FROM movies WHERE _id.year = '1999'",
            "expectedCount": 542
        },
        {
            "query": "SELECT * FROM movies WHERE runtime < 10",
            "expectedCount": 151
        },
        "SELECT * FROM movies WHERE rated = 'G'",
        {
            "query": "SELECT * FROM movies WHERE awards.wins > 10",
            "expectedCount": 2107
        }
    ],
    "index_and_count_validation": [
        "DROP INDEX IF EXISTS movies_runtime on movies",
        {
            "query": "SELECT * FROM movies WHERE runtime > 150 LIMIT 100",
            "expectedCount": 100,
            "expectedIndex": "full_scan"
        },
        "CREATE INDEX movies_runtime on movies (runtime)",
        {
            "query": "SELECT * FROM movies WHERE runtime > 150 LIMIT 100",
            "expectedCount": 100,
            "expectedIndex": "movies_runtime"
        }
    ]
}